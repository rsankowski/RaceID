---
title: "Readme-RaceID-Shiny-app"
author: "Rsankowski"
date: "5/8/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Readme for my RaceID shiny app
This is a small and simple User interface for RaceID data discussions. When discussing RaceID data with my colleagues I found it hard to gett all the relevant data from different sources and having to relie on the command line makes this great package inaccessible to scientists without coding skills. 

With this app, you will find all the relevant information about your RaceID output including an interactive tsne map on one browser page. To run it yourself you will need to input your *.Rdata file from your RaceID session and your RaceID_sample_ext.R file in the server.R file. Then specify the biological conditions within your dataset and then you should be good to go! The code that you will need to modify is between lines 13 and 31 in the Server.R file (see below). You run the app like any shiny app by hitting the "Run App" button on top of the server.R script.

Note: Since this is a very early version it the app needs about 30 seconds on my slow laptop to start up.

Please send me feedback how I can improve this!

```{r cars}
#Please upload your Rdata file here
load('Your file.Rdata')

#Paste the path to your RaceID class_ext file here
source('RaceID2_class_ext.R')

#extract cluster genes
clust <- clustdiffgenes(sc, pvalue=0.05)

##Extract tsne variables - You won't have to change anything here!
cells <- as.data.frame(sc@tsne)
cell_ids <- cbind(as.data.frame(names(sc@cpart)), as.data.frame(sc@cpart))
head(cells)
cell_df <- cbind(cells, cell_ids)
head(cell_df)
colnames(cell_df) <- c('x', 'y', 'Cell_ID', 'Cluster')

#Please update your Cell ID pattern and distinguish your groups based on the underlying condition - here 'Sick' or 'Healthy'
cell_df$Condition <- ifelse(grepl("Your_Cell_ID_Pattern", cell_df$Cell_ID), 'Sick', 'Healthy')

```

